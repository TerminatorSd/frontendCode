## 巧妙的差分算法

### 什么是差分？
差分简单来说就是，通过数组间相邻两项的差值标记出数组中的所有元素。

举个例子，现在我们有一个数组`[1, 2, 4]`。

我们还可以用另外一种形式把它表示出来`[1, 1, 2]`，即第一个元素是1；第二个元素相比于第一个元素加1，为2；第三个元素相比于第二个元素加2，为4。我们不妨称之为数组的差分表示。

咱们再找个数组来表示一下看看
```
// 正常表示
[1, 1, 1, 1, 3, 3, 3, 5, 5, 2]
// 差分表示
[1, 0, 0, 0, 2, 0, 0, 2, 0, -3]
```

### 差分有什么用？
差分表示法特别适合在对数组中的多段子部分进行同时增加，或者同时减少的情况下进行计算。

举个例子，leetcode 1094题-拼车，题目链接：https://leetcode-cn.com/problems/car-pooling/

```
假设你是一位顺风车司机，车上最初有capacity 个空座位可以用来载客。由于道路的限制，车只能向一个方向行驶（也就是说，不允许掉头或改变方向，你可以将其想象为一个向量）。

这儿有一份乘客行程计划表 trips[][]，其中 trips[i] = [num_passengers, start_location, end_location] 包含了第 i 组乘客的行程信息：

- 必须接送的乘客数量；
- 乘客的上车地点；
- 以及乘客的下车地点。

这些给出的地点位置是从你的初始出发位置向前行驶到这些地点所需的距离（它们一定在你的行驶方向上）。

请你根据给出的行程计划表和车子的座位数，来判断你的车是否可以顺利完成接送所有乘客的任务（当且仅当你可以在所有给定的行程中接送所有乘客时，返回 true，否则请返回 false）。

```

```
// 示例1
输入：trips = [[2,1,5],[3,3,7]], capacity = 4
输出：false
// 示例2
输入：trips = [[2,1,5],[3,3,7]], capacity = 5
输出：true
```

看，多么典型的一个可以用差分解决的问题。

我们需要保证在任何时候车上都不能有capacity 个以上的人。那我们最好能知道车上在每个站的时候有多少人。

我们不知道每个站车上有多少人，但是我们知道有多少人在哪个站上车，然后在哪个站下车。

哎？这不就是告诉我们差分数组的部分信息了吗？那没告诉的那部分呢？统统为0。按照这个思路，咱们来看一看这个示例1：
- 有2个人在第1站上车，第5站下车；有3个人在第3站上车，第7站下车
- 所以差分数组中填入已知部分，未知部分补充为0，得到[2, 0, 3, 0, -2, 0, -3]
- 然后利用相邻元素的差值来计算每个站车上有多少人，得到结果[2, 2, 5, 5, 3, 3, 0]
- 可以看到有两站车上坐了5个人，所以示例1输出为false，示例2输出为true
